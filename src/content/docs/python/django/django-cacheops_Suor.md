
---
title: django-cacheops
---

### [Suor django-cacheops](https://github.com/Suor/django-cacheops)

**核心内容总结：**  
`django-cacheops` 是一个 Django 扩展库，用于优化数据库查询性能，通过缓存查询结果和自动管理缓存失效。其核心功能包括：  
1. **缓存机制**：支持对查询集（QuerySet）、方法、视图进行缓存，减少重复数据库访问。  
2. **自动失效**：基于数据库变更（如增删改）自动清除相关缓存，避免数据不一致。  
3. **批量操作优化**：提供 `.invalidated_update()` 等方法，处理批量更新时的缓存失效。  
4. **性能工具**：提供 `reapconjs` 管理命令清理过期缓存键，支持内存限制模式（insideout）防止内存溢出。  

**使用方法**：  
- 通过 `@cached_as()` 装饰器缓存方法或查询集。  
- 使用 `@cached_view()` 缓存视图。  
- 通过上下文管理器（如 `no_cache()`）临时禁用缓存。  
- 配合 Redis 等缓存后端，配置 `CACHEOPS` 设置启用功能。  

**主要特性**：  
- 支持细粒度缓存失效（如单个对象、字段变更触发失效）。  
- 提供缓存命中统计、无效化信号等监控功能。  
- 优化复杂查询性能，支持分页、切片查询缓存。  
- 兼容 Django ORM，支持 `prefetch_related()` 等高级用法。  

**适用场景**：  
适用于需要频繁读取、数据变更频繁的 Django 项目，尤其适合高并发场景下的缓存管理。